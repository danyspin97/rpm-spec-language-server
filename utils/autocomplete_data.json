[["Name", "The Name tag contains the proper name of the package. Names must not\ninclude whitespace and may include a hyphen '-' (unlike version and release\ntags). Names should not include any numeric operators ('<', '>','=') as\nfuture versions of rpm may need to reserve characters other than '-'."], ["Version", "Version of the packaged content, typically software.\n\nThe version string consists of alphanumeric characters, which can optionally\nbe segmented with the separators `.`, `_` and `+`, plus `~` and `^` (see below).\n\nTilde (`~`) can be used to force sorting lower than base (1.1\\~201601 < 1.1).\nCaret (`^`) can be used to force sorting higher than base (1.1^201601 > 1.1).\nThese are useful for handling pre- and post-release versions, such as\n1.0\\~rc1 and 2.0^a."], ["Release", "Package release, used for distinguishing between different builds\nof the same software version.\n\nSee Version for allowed characters and modifiers."], ["Epoch", "Optional numerical value which can be used to override normal version-release\nsorting order. It's use should be avoided if at all possible.\n\nNon-existent epoch is exactly equal to zero epoch in all version comparisons."], ["License", "Short (< 70 characters) summary of the package license. For example:\n```\n\tLicense: GPLv3\n```"], ["SourceLicense", "If license of the sources differ from the main package the license tag\nof the source package can be set with this. If not given the license\ntag of the source and the main package are the same."], ["Group", "Optional, short (< 70 characters) group of the package.\n```\n\tGroup: Development/Libraries\n```"], ["Summary", "Short (< 70 characters) summary of the package.  \n```\n\tSummary: Utility for converting mumbles into giggles\n```"], ["Source", "If license of the sources differ from the main package the license tag\nof the source package can be set with this. If not given the license\ntag of the source and the main package are the same."], ["Patch", "Used to declare patches applied on top of sources. All patches declared\nwill be packaged into source rpms."], ["Icon", "Used to attach an icon to an rpm package file. Obsolete."], ["NoSource", ""], ["NoPatch", "Files ending in .nosrc.rpm are generally source RPM packages whose spec\nfiles have one or more NoSource: or NoPatch: directives in them.  Both\ndirectives use the named source or patch file to build the resulting\nbinary RPM package as usual, but they are not included in the source\nRPM package.\n\nThe original intent of this ability of RPM was to allow proprietary or\nnon-distributable software to be built using RPM, but to keep the\nproprietary or non-distributable parts out of the resulting source RPM\npackage, so that they would not get distributed.\n\nThey also have utility if you are building RPM packages for software\nwhich is archived at a well-known location and does not require that\nyou distribute the source with the binary, for example, for an\norganization's internal use, where storing large quantities of source\nis not as meaningful.\n\nThe end result of all this, though, is that you can't rebuild\n``no-source'' RPM packages using `rpm --rebuild' unless you also have\nthe sources or patches which are not included in the .nosrc.rpm."], ["URL", "URL supplying further information about the package, typically upstream\nwebsite."], ["BugURL", "Bug reporting URL for the package."], ["ModularityLabel", ""], ["DistTag", ""], ["VCS", ""], ["Distribution", ""], ["Vendor", ""], ["Packager", "Optional package distribution/vendor/maintainer name / contact information.\nRarely used in specs, typically filled in by buildsystem macros."], ["BuildRoot", "Obsolete and unused in rpm >= 4.6.0, but permitted for compatibility\nwith old packages that might still depend on it.\n\nDo not use in new packages."], ["AutoReqProv", ""], ["AutoReq", ""], ["AutoProv", "Control per-package automatic dependency generation for provides and requires. \nAccepted values are 1/0 or yes/no, default is always \"yes\". Autoreqprov is\nequal to specifying Autoreq and Autoprov separately."], ["Requires", "Capabilities this package requires to function at all. Besides ensuring\nrequired packages get installed, this is also used to order installs\nand erasures. \n\nAdditional context can be supplied using `Requires(qualifier)` syntax,\naccepted qualifiers are:\n\n* `pre`\n\n  Denotes the dependency must be present in before the package is\n  is installed, and is used a strong ordering hint to break possible\n  dependency loops. A pre-dependency is free to be removed\n  once the install-transaction completes.\n\n  Also relates to `%pre` scriptlet execution.\n\n* `post`\n\n  Denotes the dependency must be present right after the package is\n  is installed, and is used a strong ordering hint to break possible\n  dependency loops. A post-dependnecy is free to be removed\n  once the install-transaction completes.\n\n  Also relates to `%post` scriptlet execution.\n\n* `preun`\n\n  Denotes the dependency must be present in before the package is\n  is removed, and is used a strong ordering hint to break possible\n  dependency loops.\n\n  Also relates to `%preun` scriptlet execution.\n\n* `postun`\n\n  Denotes the dependency must be present right after the package is\n  is removed, and is used a strong ordering hint to break possible\n  dependency loops.\n\n  Also relates to `%postun` scriptlet execution.\n\n* `pretrans`\n\n  Denotes the dependency must be present before the transaction starts,\n  and cannot be satisified by added packages in a transaction. As such,\n  it does not affect transaction ordering. A pretrans-dependency is\n  free to be removed after the install-transaction completes.\n\n  Also relates to `%pretrans` and `%preuntrans` scriptlet execution.\n\n* `posttrans`\n\n  Denotes the dependency must be present at the end of transaction, ie\n  cannot be removed during the transaction. As such, it does not affect\n  transaction ordering. A posttrans-dependency is free to be removed\n  after the the install-transaction completes.\n\n  Also relates to `%posttrans` and `%postuntrans` scriptlet execution.\n\n* `verify`\n\n  Relates to `%verify` scriptlet execution. As `%verify` scriptlet is not\n  executed during install/erase, this does not affect transaction ordering.\n\n* `interp`\n\n  Denotes a scriptlet interpreter dependency, usually added automatically\n  by rpm. Used as a strong ordering hint for breaking dependency loops.\n\n* `meta` (since rpm >= 4.16)\n\n  Denotes a \"meta\" dependency, which must not affect transaction ordering.\n  Typical use-cases would be meta-packages and sub-package cross-dependencies\n  whose purpose is just to ensure the sub-packages stay on common version.\n\nMultiple qualifiers can be supplied separated by comma, as long as\nthey're not semantically contradictory: `meta` qualifier contradicts any\nordered qualifier, eg `meta` and `verify` can be combined, and `pre` and\n`verify` can be combined, but `pre` and `meta` can not.\n\nAs noted above, dependencies qualified as install-time only (`pretrans`,\n`pre`, `post`, `posttrans` or combination of them) can be removed after the\ninstallation transaction completes if there are no other dependencies\nto prevent that. This is a common source of confusion."], ["Provides", "Capabilities provided by this package.\n\n`name = [epoch:]version-release` is automatically added to all packages."], ["Conflicts", "Capabilities this package conflicts with, typically packages with\nconflicting paths or otherwise conflicting functionality."], ["Obsoletes", "Packages obsoleted by this package. Used for replacing and renaming\npackages."], ["Recommends", ""], ["Suggests", ""], ["Supplements", ""], ["Enhances", ""], ["OrderWithRequires", ""], ["Prereq", "Obsolete, do not use."], ["BuildPrereq", "Obsolete, do not use."], ["BuildRequires", "Capabilities required to build the package.\n\nBuild dependencies are identical to install dependencies except:\n\n```\n  1) they are prefixed with build (e.g. BuildRequires: rather than Requires:)\n  2) they are resolved before building rather than before installing.\n```\n\nSo, if you were to write a specfile for a package that requires gcc to build,\nyou would add\n```\n\tBuildRequires: gcc\n```\nto your spec file.\n\nIf your package was like dump and could not be built w/o a specific version of\nthe libraries to access an ext2 file system, you could express this as\n```\n\tBuildRequires: e2fsprofs-devel = 1.17-1\n```"], ["BuildConflicts", "Capabilities which conflict, ie cannot be installed during the package\npackage build.\n\nFor example if somelib-devel presence causes the package to fail build,\nyou would add\n```\n\tBuildConflicts: somelib-devel\n```"], ["ExcludeArch", "Package is not buildable on architectures listed here.\nUsed when software is portable across most architectures except some,\nfor example due to endianess issues."], ["ExclusiveArch", "Package is only buildable on architectures listed here.\nFor example, it's probably not possible to build an i386-specific BIOS\nutility on ARM, and even if it was it probably would not make any sense."], ["ExcludeOS", "Package is not buildable on specific OSes listed here."], ["ExclusiveOS", "Package is only buildable on OSes listed here."], ["BuildArch", "Specifies the architecture which the resulting binary package\nwill run on.  Typically this is a CPU architecture like sparc,\ni386. The string 'noarch' is reserved for specifying that the\nresulting binary package is platform independent.  Typical platform\nindependent packages are html, perl, python, java, and ps packages.\n\nAs a special case, `BuildArch: noarch` can be used on sub-package\nlevel to allow eg. documentation of otherwise arch-specific package\nto be shared across multiple architectures.\n\nNote that `BuildArch` causes the spec parsing to recurse from the start,\ncausing any macros before that line to be expanded twice. This can yield\nunexpected results, in particular with `%global`."], ["Prefixes", "Specify prefixes this package may be installed into, used to make\npackages relocatable. Very few packages are."], ["DocDir", "Declare a non-default documentation directory for the package.\nUsually not needed."], ["RemovePathPostfixes", "Colon separated lists of path postfixes that are removed from the end\nof file names when adding those files to the package. Used on sub-package\nlevel.\n\nUsed for creating sub-packages with conflicting files, such as different\nvariants of the same content (eg minimal and full versions of the same\nsoftware)."], ["%prep", "%prep prepares the sources for building. This is where sources are\nunpacked and possible patches applied, and other similar activies\ncould be performed.\n\nTypically [%autosetup](autosetup.md) is used to automatically handle\nit all, but for more advanced cases there are lower level `%setup`\nand `%patch` builtin-macros available in this slot.\n\nIn simple packages `%prep` is often just:\n```\n%prep\n%autosetup\n```"], ["%setup", "`%setup [options]`\n\nThe primary function of `%setup` is to set up the build directory for the\npackage, typically unpacking the package's sources but optionally it\ncan just create the directory. It accepts a number of options:\n\n```\n-a N        unpack source N after changing to the build directory\n-b N        unpack source N before changing to the build directory\n-c          create the build directory (and change to it) before unpacking\n-D          do not delete the build directory prior to unpacking (used\n            when more than one source is to be unpacked with `-a` or `-b`)\n-n DIR      set the name of build directory (default is `%{name}-%{version}`)\n-T          skip the default unpacking of the first source (used with\n            `-a` or `-b`)\n-q          operate quietly\n```"], ["%patch", "`%patch [options] [arguments]`\n\n`%patch` is used to apply patches on top of the just unpacked pristine sources.\nHistorically it supported multiple strange syntaxes and buggy behaviors,\nwhich are no longer maintained.  To apply patch number 1, the following\nare recognized:\n\n1. `%patch 1` (since rpm >= 4.18)\n2. `%patch -P1` (all rpm versions)\n3. `%patch1` (deprecated, do not use)\n\nFor new packages, the positional argument form 1) is preferred. For maximal\ncompatibility use 2). Both forms can be used to apply several patches at once,\nin the order they appear on the line. The third form where the number is\na part of the directive is deprecated and should not be used anymore.\n\nIt accepts a number of options. With the exception of `-P`, they are merely\npassed down to the `patch` command.\n```\n-b SUF      backup patched files with suffix SUF\n-d DIR      change to directory DIR before doing anything else\n-E          remove files emptied by patching\n-F N        maximum fuzz factor (on context patches)\n-p N        strip N leading slashes from paths\n-R          assume reversed patch\n-o FILE     send output to FILE instead of patching in place \n-z SUF      same as -b\n-Z          set mtime and atime from context diff headers using UTC\n\n-P N        apply patch number N, same as passing N as a positional argument\n```"], ["%generate_buildrequires", "This optional script can be used to determine `BuildRequires`\ndynamically. If present it is executed after %prep and can though\naccess the unpacked and patched sources. The script must print the found build\ndependencies to stdout in the same syntax as used after\n`BuildRequires:` one dependency per line.\n\n`rpmbuild` will then check if the dependencies are met before\ncontinuing the build. If some dependencies are missing a package with\nthe `.buildreqs.nosrc.rpm` postfix is created, that - as the name\nsuggests - contains the found build requires but no sources. It can be\nused to install the build requires and restart the build.\n\nOn success the found build dependencies are also added to the source\npackage. As always they depend on the exact circumstance of the build\nand may be different when bulding based on other packages or even\nanother architecture."], ["%conf", "In %conf, the unpacked sources are configured for building.\n\nDifferent build- and language ecosystems come with their\nown helper macros, but rpm has helpers for autotools based builds such as\nitself which typically look like this:\n\n```\n%conf\n%configure\n```"], ["%build", "In %build, the unpacked (and configured) sources are compiled to binaries.\n\nDifferent build- and language ecosystems come with their\nown helper macros, but rpm has helpers for autotools based builds such as\nitself which typically look like this:\n\n```\n%build\n%make_build\n```"], ["%install", "In `%install`, the software installation layout is prepared by creating\nthe necessary directory structure into an initially empty \"build root\"\ndirectory and copying the just-built software in there to appropriate\nplaces. For many simple packages this is just:\n\n```\n%install\n%make_install\n```\n\n`%install` required for creating packages that contain any files."], ["%check", "If the packaged software has accomppanying tests, this is where they\nshould be executed.\n\n## Runtime scriptlets\n\nRuntime scriptlets are executed at the time of install and erase of the\npackage. By default, scriptlets are executed with `/bin/sh` shell, but\nthis can be overridden with `-p <path>` as an argument to the scriptlet\nfor each scriptlet individually. Other supported operations include\n[scriptlet expansion](scriptlet_expansion.md)."], ["%pre", "%prep prepares the sources for building. This is where sources are\nunpacked and possible patches applied, and other similar activies\ncould be performed.\n\nTypically [%autosetup](autosetup.md) is used to automatically handle\nit all, but for more advanced cases there are lower level `%setup`\nand `%patch` builtin-macros available in this slot.\n\nIn simple packages `%prep` is often just:\n```\n%prep\n%autosetup\n```"], ["%post", ""], ["%preun", ""], ["%postun", ""], ["%pretrans", ""], ["%posttrans", ""], ["%preuntrans", ""], ["%postuntrans", ""], ["%verify", ""], ["%triggerprein", ""], ["%triggerin", ""], ["%triggerun", ""], ["%triggerpostun", "More information is available in [trigger chapter](triggers.md)."], ["%filetriggerin", ""], ["%filetriggerun", ""], ["%filetriggerpostun", ""], ["%transfiletriggerin", ""], ["%transfiletriggerun", ""], ["%transfiletriggerpostun", "More information is available in [file trigger chapter](file_triggers.md).\n\n## %files section"], ["%attr", "`%attr()` overrides the permissions for a single file. `<mode>` is\nan octal number such as you'd pass to `chmod`(1), `<user>` and `<group>`\nare user and group names. Any of the three can be specified as `-` to\nindicate use of current default value for that parameter."], ["%defattr", "`%defattr()` sets the default permissions of the following entries in\nup to the next `%defattr()` directive or the end of the `%files` section\nfor that package, whichever comes first.\n\nThe first three arguments are the same as for `%attr()` (see above),\n`<dirmode>` is the octal default mode for directories."], ["%artifact", "The %artifact attribute can be used to denote files that are more like\nside-effects of packaging than actual content the user would be interested\nin. Such files can be easily filtered out on queries and also left out\nof installations if space is tight."], ["%ghost", "A %ghost tag on a file indicates that this file is not to be included\nin the package.  It is typically used when the attributes of the file\nare important while the contents is not (e.g. a log file)."], ["%config", "The %config(missingok) indicates that the file need not exist on the\ninstalled machine. The %config(missingok) is frequently used for files\nlike /etc/rc.d/rc2.d/S55named where the (non-)existence of the symlink\nis part of the configuration in %post, and the file may need to be\nremoved when this package is removed.  This file is not required to\nexist at either install or uninstall time.\n\nThe %config(noreplace) indicates that the file in the package should\nbe installed with extension .rpmnew if there is already a modified file\nwith the same name on the installed machine."], ["%dir", "Used to explicitly own the directory itself but not it's contents."], ["%doc", "Used to mark and/or install files as documentation. Can be used as a\nregular attribute on an absolute path, or in \"special\" form on a path\nrelative to the build directory which causes the files to be installed\nand packaged as documentation. The special form strips all but the last\npath component. Thus `%doc path/to/docfile` installs `docfile` in the\ndocumentation path.\n\nCan also be used to filter out documentation from installations where\nspace is tight."], ["%license", "Used to mark and/or install files as licenses. Same as %doc, but \ncannot be filtered out as licenses must always be present in packages."], ["%readme", "Obsolete."], ["%verify", ""]]